{
  "description": "Script Name: Add Asset Tag test\nExcel Columns: Asset Name, Asset ID, Tag, Tag ID, Status, API_Response\n\nStep 1 [API]:\n  - Step/Variable Name: Asset Tag\n  - Call GET /services/master/api/filter?type=ASSET&size=5000\n  - Payload Type: QUERY\n  - Expected Response: [ {  \"id\" : 3410602,  \"name\" : \"maxtest\",  \"clientId\" : \"f999d82e-5b66-412c-8d68-f9d2f37ac145\",  \"tagType\" : \"ASSET\",  \"validFrom\" : \"2025-07-01T00:00:00Z\",  \"validTill\" : \"2026-07-09T00:00:00Z\",  \"status\" : \"Active\",  \"description\" : null}, {  \"id\" : 5883653,  \"name\" : \"Raj asset tag 01\",  \"clientId\" : \"583bbb76-7d16-4210-81fc-0f8e279ca799\",  \"tagType\" : \"ASSET\",  \"validFrom\" : \"2025-07-23T00:00:00Z\",  \"validTill\" : \"2025-07-31T00:00:00Z\",  \"status\" : \"Active\",  \"description\" : null}, {  \"id\" : 5883654,  \"name\" : \"Raj asset tag 02\",  \"clientId\" : \"1f526ee7-fe9a-4722-acd0-0fa89dba6e3b\",  \"tagType\" : \"ASSET\",  \"validFrom\" : \"2025-07-01T00:00:00Z\",  \"validTill\" : \"2025-07-31T00:00:00Z\",  \"status\" : \"Active\",  \"description\" : null}, {  \"id\" : 5900255,  \"name\" : \"Raja asset tag UAT\",  \"clientId\" : \"ce66a4f3-cfa2-4f8d-99e3-349a94567ce7\",  \"tagType\" : \"ASSET\",  \"validFrom\" : \"2025-08-12T00:00:00Z\",  \"validTill\" : \"2025-08-31T00:00:00Z\",  \"status\" : \"Active\",  \"description\" : null} ]\n  - Instructions: read asset_tag_api response, compare attribute \"name\" with excel column 'Tag'. If data found continue. Else fail row by writing 'Fail' in column 'Status' and 'Tag not Found' in column 'API_Response'. Keep the response for processing other rows and to use in 'asset_update_api'\n\nStep 2 [API]:\n  - Step/Variable Name: Asset Details\n  - Call GET /services/farm/api/assets/{Asset ID}\n  - Payload Type: QUERY\n  - Expected Response: {  \"id\" : 2408852,  \"name\" : \"RS 9122  A 2\",  \"companyStatus\" : \"ACTIVE\",  \"data\" : {    \"rajaAssetAddAttr\" : \"2026-01-02T00:00:00.000Z\"  },  \"ownerId\" : 2405501,  \"ownerFirstName\" : \"RS F 060401\",  \"soilType\" : {    \"id\" : 1056,    \"name\" : \"Clay Loam\",    \"description\" : \"Clay Loam Soil Type Description\",    \"data\" : null,    \"clientId\" : \"115825fe-a0d3-4c95-a831-1dc4fa93d261\"  },  \"irrigationType\" : {    \"id\" : 1101,    \"name\" : \"Bore well\",    \"description\" : \"Bore well Irrigation Type Description\",    \"clientId\" : \"8db73384-94ab-43ad-9827-0ca9f30e2eea\",    \"data\" : null  },  \"surveyNumber\" : null,  \"leased\" : null,  \"auditedArea\" : {    \"count\" : null  },  \"usableArea\" : {    \"count\" : 0.0  },  \"declaredArea\" : {    \"count\" : 10.0  },  \"availableArea\" : null,  \"images\" : { },  \"assetStatus\" : \"UNAVAILABLE\",  \"clientId\" : \"bf93cb5a-28c1-4aac-92c6-0ccfe241a31d\",  \"address\" : {    \"id\" : 2408902,    \"formattedAddress\" : \"Madhugiri, Karnataka 572132, India\",    \"postalCode\" : \"572132\",    \"locality\" : \"Madhugiri\",    \"data\" : null,    \"administrativeAreaLevel5\" : null,    \"administrativeAreaLevel4\" : null,    \"administrativeAreaLevel3\" : null,    \"administrativeAreaLevel2\" : \"Bangalore Division\",    \"administrativeAreaLevel1\" : \"Karnataka\",    \"country\" : \"India\",    \"latitude\" : 13.6643166,    \"longitude\" : 77.20889869999999,    \"placeId\" : \"ChIJsfkoVqO0sTsRLbvVqd06cTU\",    \"sublocalityLevel1\" : \"\",    \"sublocalityLevel2\" : \"\",    \"sublocalityLevel3\" : null,    \"sublocalityLevel4\" : null,    \"sublocalityLevel5\" : null,    \"houseNo\" : \"\",    \"buildingName\" : \"\",    \"landmark\" : \"\",    \"clientId\" : \"87210ad5-d7d5-48fe-9079-e4944ff813e1\"  },  \"ownerCode\" : \"RSF060401\",  \"nameCounter\" : null,  \"acreSquareAssetId\" : null,  \"lastModifiedDate\" : \"2026-01-02T22:37:06.214Z\",  \"ownerClientId\" : \"53cb461e-72cc-4e6a-b1d7-f7defdb4d781\",  \"externalId\" : null,  \"massUpload\" : false,  \"deleted\" : false}\n  - Instructions: read asset API response, if data found continue. Else fail row by writing 'Fail' in column 'Status' and 'Asset not Found' in column 'API_Response'\n\nStep 3 [API]:\n  - Step/Variable Name: Asset Update\n  - Call PUT /services/farm/api/assets\n  - Payload Type: DTO_FILE\n  - Payload Example: {    \"id\": 2408852,    \"name\": \"RS 9122  A 2\",    \"companyStatus\": \"ACTIVE\",    \"data\": {        \"tags\": [5883653, 5883654],        \"rajaAssetAddAttr\": \"2026-01-02T00:00:00.000Z\"    },    \"ownerId\": 2405501,    \"ownerFirstName\": \"RS F 060401\",    \"soilType\": {        \"id\": 1056,        \"name\": \"Clay Loam\",        \"description\": \"Clay Loam Soil Type Description\",        \"data\": null,        \"clientId\": \"115825fe-a0d3-4c95-a831-1dc4fa93d261\"    },    \"irrigationType\": {        \"id\": 1101,        \"name\": \"Bore well\",        \"description\": \"Bore well Irrigation Type Description\",        \"clientId\": \"8db73384-94ab-43ad-9827-0ca9f30e2eea\",        \"data\": null    },    \"surveyNumber\": null,    \"leased\": null,    \"auditedArea\": {        \"enableConversion\": \"true\",        \"unit\": \"ACRE\"    },    \"usableArea\": {        \"count\": 0    },    \"declaredArea\": {        \"count\": 10,        \"enableConversion\": \"true\",        \"unit\": \"ACRE\"    },    \"availableArea\": null,    \"images\": {},    \"assetStatus\": \"UNAVAILABLE\",    \"clientId\": \"bf93cb5a-28c1-4aac-92c6-0ccfe241a31d\",    \"address\": {        \"id\": 2408902,        \"formattedAddress\": \"Madhugiri, Karnataka 572132, India\",        \"postalCode\": \"572132\",        \"locality\": \"Madhugiri\",        \"data\": null,        \"administrativeAreaLevel5\": null,        \"administrativeAreaLevel4\": null,        \"administrativeAreaLevel3\": null,        \"administrativeAreaLevel2\": \"Bangalore Division\",        \"administrativeAreaLevel1\": \"Karnataka\",        \"country\": \"India\",        \"latitude\": 13.6643166,        \"longitude\": 77.20889869999999,        \"placeId\": \"ChIJsfkoVqO0sTsRLbvVqd06cTU\",        \"sublocalityLevel1\": \"\",        \"sublocalityLevel2\": \"\",        \"sublocalityLevel3\": null,        \"sublocalityLevel4\": null,        \"sublocalityLevel5\": null,        \"houseNo\": \"\",        \"buildingName\": \"\",        \"landmark\": \"\",        \"clientId\": \"87210ad5-d7d5-48fe-9079-e4944ff813e1\"    },    \"ownerCode\": \"RSF060401\",    \"nameCounter\": null,    \"acreSquareAssetId\": null,    \"lastModifiedDate\": \"2023-08-23T10:23:18.543Z\",    \"ownerClientId\": \"53cb461e-72cc-4e6a-b1d7-f7defdb4d781\",    \"externalId\": null,    \"massUpload\": false,    \"deleted\": false}\n  - Expected Response: {  \"id\" : 2408852,  \"name\" : \"RS 9122  A 2\",  \"companyStatus\" : \"ACTIVE\",  \"data\" : {    \"rajaAssetAddAttr\" : \"2026-01-02T00:00:00.000Z\",    \"tags\" : [ 5883653, 5883654 ]  },  \"ownerId\" : 2405501,  \"ownerFirstName\" : \"RS F 060401\",  \"soilType\" : {    \"id\" : 1056,    \"name\" : \"Clay Loam\",    \"description\" : \"Clay Loam Soil Type Description\",    \"data\" : null,    \"clientId\" : \"115825fe-a0d3-4c95-a831-1dc4fa93d261\"  },  \"irrigationType\" : {    \"id\" : 1101,    \"name\" : \"Bore well\",    \"description\" : \"Bore well Irrigation Type Description\",    \"clientId\" : \"8db73384-94ab-43ad-9827-0ca9f30e2eea\",    \"data\" : null  },  \"surveyNumber\" : null,  \"leased\" : null,  \"auditedArea\" : {    \"count\" : null  },  \"usableArea\" : {    \"count\" : 0.0  },  \"declaredArea\" : {    \"count\" : 10.0  },  \"availableArea\" : null,  \"images\" : { },  \"assetStatus\" : \"UNAVAILABLE\",  \"clientId\" : \"bf93cb5a-28c1-4aac-92c6-0ccfe241a31d\",  \"address\" : {    \"id\" : 2408902,    \"formattedAddress\" : \"Madhugiri, Karnataka 572132, India\",    \"postalCode\" : \"572132\",    \"locality\" : \"Madhugiri\",    \"data\" : null,    \"administrativeAreaLevel5\" : null,    \"administrativeAreaLevel4\" : null,    \"administrativeAreaLevel3\" : null,    \"administrativeAreaLevel2\" : \"Bangalore Division\",    \"administrativeAreaLevel1\" : \"Karnataka\",    \"country\" : \"India\",    \"latitude\" : 13.6643166,    \"longitude\" : 77.20889869999999,    \"placeId\" : \"ChIJsfkoVqO0sTsRLbvVqd06cTU\",    \"sublocalityLevel1\" : \"\",    \"sublocalityLevel2\" : \"\",    \"sublocalityLevel3\" : null,    \"sublocalityLevel4\" : null,    \"sublocalityLevel5\" : null,    \"houseNo\" : \"\",    \"buildingName\" : \"\",    \"landmark\" : \"\",    \"clientId\" : \"87210ad5-d7d5-48fe-9079-e4944ff813e1\"  },  \"ownerCode\" : \"RSF060401\",  \"nameCounter\" : null,  \"acreSquareAssetId\" : null,  \"lastModifiedDate\" : \"2026-01-02T22:37:06.214Z\",  \"ownerClientId\" : \"53cb461e-72cc-4e6a-b1d7-f7defdb4d781\",  \"externalId\" : null,  \"massUpload\" : false,  \"deleted\" : false}\n  - Instructions: get the response from asset_api. Update the attribute \"data\" with attribute \"tags\": [5883653]. If already tags is present add comma separated like \"tags\": [5883653, 5883654]. send the whole response with updated data section as body for 'asset_update_api'\n\n",
  "inputColumns": [
    "Asset Name",
    "Asset ID",
    "Tag",
    "Tag ID",
    "Status",
    "API_Response"
  ],
  "team": "Unassigned",
  "mtime": 1767712330046,
  "name": "Add_Asset_Tag_test_2.py",
  "filename": "Add_Asset_Tag_test_2.py"
}